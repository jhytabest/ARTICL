[
  {
    "type": "function",
    "name": "buyTicket",
    "inputs": [
      { "name": "publisher", "type": "address", "internalType": "address" },
      { "name": "ticketHash", "type": "bytes32", "internalType": "bytes32" }
    ],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "buyTickets",
    "inputs": [
      { "name": "publisher", "type": "address", "internalType": "address" },
      { "name": "ticketHashes", "type": "bytes32[]", "internalType": "bytes32[]" }
    ],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "clientBalances",
    "inputs": [{ "name": "", "type": "address", "internalType": "address" }],
    "outputs": [{ "name": "", "type": "uint256", "internalType": "uint256" }],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "consumeTicket",
    "inputs": [{ "name": "ticketHash", "type": "bytes32", "internalType": "bytes32" }],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  { "type": "function", "name": "deposit", "inputs": [], "outputs": [], "stateMutability": "payable" },
  {
    "type": "function",
    "name": "getPublisher",
    "inputs": [{ "name": "publisher", "type": "address", "internalType": "address" }],
    "outputs": [
      { "name": "domain", "type": "string", "internalType": "string" },
      { "name": "pricePerCall", "type": "uint256", "internalType": "uint256" },
      { "name": "payoutWallet", "type": "address", "internalType": "address" }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getTicket",
    "inputs": [{ "name": "ticketHash", "type": "bytes32", "internalType": "bytes32" }],
    "outputs": [
      { "name": "client", "type": "address", "internalType": "address" },
      { "name": "publisher", "type": "address", "internalType": "address" },
      { "name": "isConsumed", "type": "bool", "internalType": "bool" },
      { "name": "purchasedAt", "type": "uint256", "internalType": "uint256" }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "publisherBalances",
    "inputs": [{ "name": "", "type": "address", "internalType": "address" }],
    "outputs": [{ "name": "", "type": "uint256", "internalType": "uint256" }],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "publisherTickets",
    "inputs": [
      { "name": "", "type": "address", "internalType": "address" },
      { "name": "", "type": "bytes32", "internalType": "bytes32" }
    ],
    "outputs": [{ "name": "", "type": "address", "internalType": "address" }],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "publishers",
    "inputs": [{ "name": "", "type": "address", "internalType": "address" }],
    "outputs": [
      { "name": "domain", "type": "string", "internalType": "string" },
      { "name": "pricePerCall", "type": "uint256", "internalType": "uint256" },
      { "name": "payoutWallet", "type": "address", "internalType": "address" },
      { "name": "isRegistered", "type": "bool", "internalType": "bool" }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "registerPublisher",
    "inputs": [
      { "name": "domain", "type": "string", "internalType": "string" },
      { "name": "pricePerCall", "type": "uint256", "internalType": "uint256" },
      { "name": "payoutWallet", "type": "address", "internalType": "address" }
    ],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "tickets",
    "inputs": [{ "name": "", "type": "bytes32", "internalType": "bytes32" }],
    "outputs": [
      { "name": "client", "type": "address", "internalType": "address" },
      { "name": "publisher", "type": "address", "internalType": "address" },
      { "name": "isConsumed", "type": "bool", "internalType": "bool" },
      { "name": "purchasedAt", "type": "uint256", "internalType": "uint256" }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "updatePrice",
    "inputs": [{ "name": "newPricePerCall", "type": "uint256", "internalType": "uint256" }],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "verifyTicket",
    "inputs": [
      { "name": "publisher", "type": "address", "internalType": "address" },
      { "name": "ticketHash", "type": "bytes32", "internalType": "bytes32" }
    ],
    "outputs": [{ "name": "isValid", "type": "bool", "internalType": "bool" }],
    "stateMutability": "view"
  },
  { "type": "function", "name": "withdraw", "inputs": [], "outputs": [], "stateMutability": "nonpayable" },
  {
    "type": "event",
    "name": "Deposit",
    "inputs": [
      { "name": "client", "type": "address", "indexed": true, "internalType": "address" },
      { "name": "amount", "type": "uint256", "indexed": false, "internalType": "uint256" }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "PublisherRegistered",
    "inputs": [
      { "name": "publisher", "type": "address", "indexed": true, "internalType": "address" },
      { "name": "domain", "type": "string", "indexed": false, "internalType": "string" },
      { "name": "pricePerCall", "type": "uint256", "indexed": false, "internalType": "uint256" },
      { "name": "payoutWallet", "type": "address", "indexed": false, "internalType": "address" }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "PublisherUpdated",
    "inputs": [
      { "name": "publisher", "type": "address", "indexed": true, "internalType": "address" },
      { "name": "newPricePerCall", "type": "uint256", "indexed": false, "internalType": "uint256" }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "TicketConsumed",
    "inputs": [
      { "name": "publisher", "type": "address", "indexed": true, "internalType": "address" },
      { "name": "ticketHash", "type": "bytes32", "indexed": true, "internalType": "bytes32" }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "TicketPurchased",
    "inputs": [
      { "name": "client", "type": "address", "indexed": true, "internalType": "address" },
      { "name": "publisher", "type": "address", "indexed": true, "internalType": "address" },
      { "name": "ticketHash", "type": "bytes32", "indexed": true, "internalType": "bytes32" },
      { "name": "price", "type": "uint256", "indexed": false, "internalType": "uint256" }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "Withdrawal",
    "inputs": [
      { "name": "publisher", "type": "address", "indexed": true, "internalType": "address" },
      { "name": "amount", "type": "uint256", "indexed": false, "internalType": "uint256" }
    ],
    "anonymous": false
  },
  { "type": "error", "name": "InsufficientBalance", "inputs": [] },
  { "type": "error", "name": "InvalidPrice", "inputs": [] },
  { "type": "error", "name": "NoBalanceToWithdraw", "inputs": [] },
  { "type": "error", "name": "PublisherAlreadyRegistered", "inputs": [] },
  { "type": "error", "name": "PublisherNotRegistered", "inputs": [] },
  { "type": "error", "name": "TicketAlreadyConsumed", "inputs": [] },
  { "type": "error", "name": "TicketAlreadyPurchased", "inputs": [] },
  { "type": "error", "name": "TicketNotFound", "inputs": [] },
  { "type": "error", "name": "WithdrawalFailed", "inputs": [] }
]
